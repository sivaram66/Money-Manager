{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>View Expenses - Money Manager</title>
    <link rel="stylesheet" href="{% static 'viewExpenses.css' %}?v=123" />
  </head>
  <body>
    <div class="dashboard">
      <aside class="sidebar">
        <div class="sidebar-header">
          <h1>Money Manager</h1>
          <div class="user-info">
            <div class="user-avatar">{{ user.fullname|slice:":2" }}</div>
            <span>{{user.fullname}}</span>
          </div>
        </div>
        <nav class="sidebar-nav">
          <ul>
            <li>
              <a href="/accounts/dashboard"
                ><span class="icon">ğŸ“Š</span> Dashboard</a
              >
            </li>
            <li>
              <a href="/accounts/add_expense"
                ><span class="icon">ğŸ’°</span> Add Expense</a
              >
            </li>
            <li>
              <a href="/accounts/view_expenses"
                ><span class="icon">ğŸ“‹</span> View Expenses</a
              >
            </li>
            <li>
              <a href="/accounts/manage_budget"
                ><span class="icon">ğŸ“…</span> Budget Overview</a
              >
            </li>
            <li>
              <a href="#"><span class="icon">ğŸ“ˆ</span> Reports</a>
            </li>
            <li>
              <a href="/accounts/settings"><span class="icon">âš™ï¸</span> Settings</a>
            </li>
            <li>
              <a href="/accounts/logout"><span class="icon">â†©ï¸</span> Logout</a>
            </li>
          </ul>
        </nav>
      </aside>
      <main>
        <header class="main-header">
          <h2 class="main-title">View Expenses</h2>
        </header>

        <section class="filter-section">
          <h3>Filter Expenses</h3>
          <form class="filter-form" action="" method="get">
            <div class="filter-group">
              <label for="month">Month:</label>
              <select name="month" id="month">
                <option value="">All Months</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="category">Category:</label>
              <select name="category" id="category">
                <option value="">All Categories</option>
                <option value="food">Food</option>
                <option value="transport">Transport</option>
                <option value="utilities">Utilities</option>
                <option value="entertainment">Entertainment</option>
                <option value="healthcare">Healthcare</option>
                <option value="shopping">Shopping</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="start_date">Start Date:</label>
              <input type="date" id="start_date" name="start_date" />
            </div>
            <div class="filter-group">
              <label for="end_date">End Date:</label>
              <input type="date" id="end_date" name="end_date" />
            </div>
            <button type="submit" class="filter-button">Apply Filters</button>
          </form>
        </section>

        <section class="card">
          <div class="card-header">All Expenses</div>
          <ul class="expense-list">
            {% for expense in expenses %}
            <li class="expense-item">
              <div class="expense-info">
                <strong>{{expense.name }}</strong>
                <span>{{ expense.category }}</span>
                <small>{{ expense.date }}</small>
              </div>
              <span class="expense-amount">â‚¹{{ expense.amount }}</span>
            </li>
            {% empty %}
            <li>No expenses found.</li>
            {% endfor %}
          </ul>
        </section>
      </main>
    </div>
  </body>
</html>
